<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>MindStrong Universe</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="./theme.css" />

  <!-- Favicon / App Icon -->
  <link rel="icon" type="image/svg+xml" href="./mindstrong.gif" />
  <link rel="apple-touch-icon" href="./mindstrong.gif+-" />
  <meta name="theme-color" content="#0b0f1a" />

  <style>
    /* Landing-only extras (still using theme tokens) */
    .ms-heroGrid{
      display:grid; grid-template-columns: 7fr 5fr; gap:14px; align-items:stretch;
      margin-top:18px;
      position: relative;
    }

    /* Brand logo */
    .ms-brandLogo{
      width:22px; height:22px;
      display:inline-block;
      margin-right:10px;
      filter: drop-shadow(0 8px 18px rgba(0,0,0,.35));
    }

    /* Spell-tech background */
    .ms-heroFX{
      position:absolute; inset:-24px -8px auto -8px;
      height: 280px;
      pointer-events:none;
      border-radius: 22px;
      background:
        radial-gradient(1200px 380px at 25% 20%, rgba(124,58,237,.26), transparent 60%),
        radial-gradient(900px 300px at 80% 10%, rgba(34,211,238,.18), transparent 55%),
        radial-gradient(700px 340px at 60% 60%, rgba(16,185,129,.10), transparent 60%);
      filter: blur(0px);
      opacity:.95;
    }

    /* Right-side holo collage */
    .ms-holoStage{
      position: relative;
      overflow: hidden;
    }

    .ms-holoBg{
      position:absolute; inset:0;
      background:
        radial-gradient(500px 220px at 10% 20%, rgba(255,255,255,.10), transparent 60%),
        radial-gradient(380px 200px at 90% 10%, rgba(255,255,255,.06), transparent 60%),
        linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,0));
      opacity: .9;
      pointer-events:none;
    }

    .ms-holoSeal{
      width: 100%;
      max-width: 190px;
      display:block;
      margin: 4px auto 10px;
      opacity: .9;
      filter: drop-shadow(0 10px 24px rgba(0,0,0,.35));
    }

    .ms-holoCards{
      position: relative;
      height: 320px;
      border: 1px solid var(--stroke);
      border-radius: calc(var(--r) + 6px);
      background: linear-gradient(135deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      box-shadow: var(--shadow);
      overflow:hidden;
    }

    .ms-holoScan{
      position:absolute; inset:-40%;
      background: linear-gradient(90deg, transparent, rgba(34,211,238,.14), transparent);
      transform: rotate(14deg);
      animation: scan 5.8s linear infinite;
      opacity: .8;
      pointer-events:none;
    }
    @keyframes scan{
      0%{ transform: translateX(-30%) rotate(14deg); }
      100%{ transform: translateX(30%) rotate(14deg); }
    }

    .ms-cardImg{
      position:absolute;
      width: 68%;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.2);
      box-shadow: 0 18px 60px rgba(0,0,0,.42);
      transform: translate3d(0,0,0) rotate(0deg);
      transition: transform .14s ease, opacity .6s ease;
      will-change: transform, opacity;
      user-select:none;
      pointer-events:none;
      opacity:.92;
    }
    .ms-cardImg.is-fading{ opacity:.10; }

    .ms-imgA{ top: 18px; left: 14px; width: 72%; }
    .ms-imgB{ top: 96px; right: 10px; width: 70%; opacity:.90; }
    .ms-imgC{ bottom: 14px; left: 24px; width: 64%; opacity:.88; }

    .ms-holoCaption{
      margin-top: 12px;
      font-size: 13px;
      color: var(--muted);
      text-align:center;
    }

    /* Small enhancements reused */
    .ms-metric{display:flex; flex-direction:column; gap:2px}
    .ms-metric b{font-size:22px}
    .ms-metric span{color:var(--muted); font-size:12px}
    .ms-stack{display:grid; gap:12px}
    .ms-miniCard{
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.04);
      border-radius: var(--r);
      padding:14px;
    }
    .ms-miniCard h3{margin:0 0 6px; font-size:14px}
    .ms-miniCard p{margin:0; color:var(--muted); font-size:13px}
    .ms-sectionTitle{margin:30px 0 10px; font-size:18px}
    .ms-steps{display:grid; grid-template-columns: repeat(3,1fr); gap:14px; margin-top:12px}
    .ms-stepNum{
      width:26px; height:26px; border-radius:8px;
      display:inline-flex; align-items:center; justify-content:center;
      border:1px solid var(--stroke); background: rgba(255,255,255,.06);
      margin-right:8px; font-weight:800;
    }
    .ms-cta{
      margin-top:26px;
      border:1px solid var(--stroke);
      background: linear-gradient(135deg, rgba(124,58,237,.20), rgba(34,211,238,.12));
      border-radius: calc(var(--r) + 6px);
      padding:18px;
      box-shadow: var(--shadow);
    }

    @media (max-width: 860px){
      .ms-heroGrid{grid-template-columns:1fr}
      .ms-steps{grid-template-columns:1fr}
      .ms-holoCards{height: 280px;}
    }
  </style>
</head>

<body>
  <header class="ms-top">
    <div class="ms-nav">
      <div class="ms-brand">
        <img src="./mindstrong.gif" alt="MindStrong Universe" class="ms-brandLogo" />
        <span>MindStrong Universe</span>
      </div>
      <nav class="ms-links">
        <a class="ms-link is-active" href="./index.html">Home</a>
        <a class="ms-link" href="./school/index.html">School</a>
      </nav>
    </div>
  </header>

  <main class="ms-wrap">
    <section class="ms-hero">
      <span class="ms-kicker">üß† <b>Math Hacks Online School</b> ‚Ä¢ Middle School ‚Ä¢ Built for confidence</span>
      <h1 class="ms-h1">Math that feels like a superpower.</h1>
      <p class="ms-sub">
        MindStrong Universe turns confusing skills into simple moves: short lessons, clean practice,
        and ‚ÄúMath Hacks‚Äù that actually stick.
      </p>

      <div class="ms-heroGrid">
        <div class="ms-heroFX"></div>

        <section class="ms-card">
          <h2>Start Learning Now</h2>
          <p>Math Foundations is live: Module 1 (Lessons 1‚Äì6).</p>

          <div class="ms-actions">
            <a class="ms-btn primary" href="./school/foundations/index.html">Open Math Foundations ‚Üí</a>
            <a id="continueBtn" class="ms-btn" href="./school/index.html">Continue Learning</a>
          </div>

          <div class="ms-hr"></div>

          <div class="ms-grid" style="margin-top:0;">
            <div class="ms-miniCard">
              <h3>Spellbook logic (but real)</h3>
              <p>Every lesson = hook ‚Üí hack ‚Üí practice ‚Üí exit check.</p>
            </div>
            <div class="ms-miniCard">
              <h3>Built to upgrade later</h3>
              <p>Same URLs now; Supabase accounts + progress sync later.</p>
            </div>
          </div>

          <p class="ms-note">Continue Learning uses localStorage on this device for now.</p>
        </section>

        <aside class="ms-card ms-holoStage" id="holoStage">
          <div class="ms-holoBg"></div>

          <!-- Crest -->
          <img class="ms-holoSeal" src="./mindstrong.gif" alt="MindStrong Crest" />

          <div class="ms-holoCards" id="holoCards">
            <div class="ms-holoScan"></div>

            <!-- Your existing repo images -->
            <img class="ms-cardImg ms-imgA" src="./playground-image-S7XSr.png" alt="Holo card A" />
            <img class="ms-cardImg ms-imgB" src="./playground-image-SPhEr.png" alt="Holo card B" />
            <img class="ms-cardImg ms-imgC" src="./playground-image-foiEG.png" alt="Holo card C" />
          </div>

          <div class="ms-holoCaption">Arcane UI. Clean learning. No wallet required.</div>
        </aside>
      </div>
    </section>

    <h2 class="ms-sectionTitle">What makes MindStrong different</h2>
    <div class="ms-grid">
      <section class="ms-card">
        <h2>Hacks + Standards (both)</h2>
        <p>Students get the shortcut. Teachers get the ‚Äúshow your work.‚Äù</p>
      </section>
      <section class="ms-card">
        <h2>Micro-lessons that finish</h2>
        <p>Momentum beats motivation. We build completion into the structure.</p>
      </section>
      <section class="ms-card">
        <h2>Interactive by design</h2>
        <p>Continue Learning now; later: streaks, quizzes, accounts, community.</p>
      </section>
      <section class="ms-card">
        <h2>Tech feel, human goal</h2>
        <p>Modern aesthetic so students take it seriously‚Äîand actually use it.</p>
      </section>
    </div>

    <h2 class="ms-sectionTitle">How it works</h2>
    <div class="ms-steps">
      <section class="ms-card">
        <h2><span class="ms-stepNum">1</span>Start Foundations</h2>
        <p>Fix number sense first. That‚Äôs the root of most frustration.</p>
      </section>
      <section class="ms-card">
        <h2><span class="ms-stepNum">2</span>Learn the hack</h2>
        <p>Mental model + standard method. Works in any classroom.</p>
      </section>
      <section class="ms-card">
        <h2><span class="ms-stepNum">3</span>Practice clean</h2>
        <p>Guided practice ‚Üí boss problem ‚Üí exit check.</p>
      </section>
    </div>

    <section class="ms-cta">
      <h2 style="margin:0 0 6px;">Enter the School</h2>
      <p class="ms-muted" style="margin:0 0 12px;">
        Next upgrade: progress checklist UI + ‚ÄúNext Lesson‚Äù smart button on every lesson.
      </p>
      <div class="ms-actions">
        <a class="ms-btn primary" href="./school/index.html">School Hub ‚Üí</a>
        <a class="ms-btn" href="./school/foundations/module-1/lesson-1.html">Start Lesson 1 ‚Üí</a>
      </div>
    </section>

    <footer class="ms-footer">
      ¬© MindStrong Universe ‚Ä¢ Built on GitHub Pages ‚Ä¢ Upgrade path: Supabase Auth + DB + Storage
    </footer>
  </main>

  <script>
    // Continue Learning button (if the user has visited any lesson page)
    const last = localStorage.getItem("ms_last_lesson_url");
    const btn = document.getElementById("continueBtn");
    if (last && btn) btn.href = last;

    // Simple ‚Äúholo tilt‚Äù interaction (Web3 feel)
    const stage = document.getElementById("holoCards");
    const cards = stage ? stage.querySelectorAll(".ms-cardImg") : [];
    if (stage && cards.length) {
      stage.addEventListener("mousemove", (e) => {
        const r = stage.getBoundingClientRect();
        const x = (e.clientX - r.left) / r.width - 0.5;
        const y = (e.clientY - r.top) / r.height - 0.5;

        cards.forEach((img, i) => {
          const depth = (i + 1) * 6;
          img.style.transform = `translate3d(${x * depth}px, ${y * depth}px, 0) rotate(${x * 2}deg)`;
        });
      });

      stage.addEventListener("mouseleave", () => {
        cards.forEach((img) => img.style.transform = "translate3d(0,0,0) rotate(0deg)");
      });
    }

    // Smooth holo rotation (preload + crossfade)
    const ROTATE_MS = 9000;   // 9s per swap (slower)
    const FADE_MS = 650;      // fade time

    const holoPool = [
      "./playground-image-S7XSr.png",
      "./playground-image-SPhEr.png",
      "./playground-image-foiEG.png",
      "./playground-image-CwQig.png",
      "./playground-image-d7AoO.png",
    ];

    const imgA = document.querySelector(".ms-imgA");
    const imgB = document.querySelector(".ms-imgB");
    const imgC = document.querySelector(".ms-imgC");

    // Preload
    holoPool.forEach((src) => { const im = new Image(); im.src = src; });

    function crossfadeSwap(imgEl, nextSrc) {
      if (!imgEl) return;
      imgEl.classList.add("is-fading");
      window.setTimeout(() => {
        imgEl.src = nextSrc;
        requestAnimationFrame(() => imgEl.classList.remove("is-fading"));
      }, FADE_MS);
    }

    if (imgA && imgB && imgC) {
      let i = 0;
      const start = [imgA.src, imgB.src, imgC.src].filter(Boolean);
      const pool = [...new Set([...start, ...holoPool])];

      setInterval(() => {
        i = (i + 1) % pool.length;

        // swap ONE layer at a time
        const layer = i % 3;
        const nextSrc = pool[(i + 2) % pool.length];

        if (layer === 0) crossfadeSwap(imgA, nextSrc);
        if (layer === 1) crossfadeSwap(imgB, nextSrc);
        if (layer === 2) crossfadeSwap(imgC, nextSrc);
      }, ROTATE_MS);
    }
  </script>
</body>
</html>
